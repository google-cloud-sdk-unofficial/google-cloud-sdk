# -*- coding: utf-8 -*- #
# Copyright 2025 Google LLC. All Rights Reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# NOTE: This file is autogenerated and should not be edited by hand.
# AUTOGEN_CLI_VERSION: HEAD
- release_tracks:
  - GA
  auto_generated: true
  help_text:
    brief: Creates a new VPC Flow Logs configuration.
    description: |-
      Creates a new VPC Flow Logs configuration.

      Project-level configuration: Specify a target resource, either: --subnet, --network, --interconnect-attachment, or --vpn-tunnel

      Organization-level configuration: Specify the --organization flag without a target resource to apply the configuration across an entire organization.

      The --location=global flag is always required.
    examples: |-
      To create a new VPC Flow Logs configuration `my-config` in organization `my-org-number`, run:

        $ {command} my-config --location=global --organization=<my-org-number>

      To create a new VPC Flow Logs configuration `my-config` in project `my-project` for a VLAN attachment for Cloud Interconnect, run:

        $ {command} my-config --location=global --interconnect-attachment="projects/{project_id}/regions/{region}/interconnectAttachments/{interconnect_attachment_id}"

      To create a new VPC Flow Logs configuration `my-config` in project `my-project` for a Cloud VPN tunnel, run:

        $ {command} my-config --location=global --subnet="projects/{project_id}/regions/{region}/vpnTunnels/{vpn_tunnel_id}"

      To create a new VPC Flow Logs configuration `my-config` in project `my-project` for a subnet, run:

        $ {command} my-config --location=global --subnet="projects/{project_id}/regions/{region}/subnets/{subnet_id}"

      To create a new VPC Flow Logs configuration `my-config` in project `my-project` for a VPC network, run:

        $ {command} my-config --location=global --network="projects/{project_id}/global/networks/{network_id}"
  arguments:
    params:
    - group:
        mutex: true
        help_text: |-
          Arguments for the  description.
        params:
        - arg_name: description
          api_field: vpcFlowLogsConfig.description
          required: false
          repeated: false
          help_text: |-
            The user-supplied description of the VPC Flow Logs configuration.
            Maximum of 512 characters.
    - group:
        mutex: true
        help_text: |-
          Arguments for the  state.
        params:
        - arg_name: state
          api_field: vpcFlowLogsConfig.state
          required: false
          help_text: |-
            The state of the VPC Flow Log configuration. Default value is ENABLED.
            When creating a new configuration, it must be enabled.
            Setting state=DISABLED will pause the log generation for this config.
          choices:
          - arg_value: enabled
            enum_value: ENABLED
            help_text: |-
              When ENABLED, this configuration will generate logs.
          - arg_value: disabled
            enum_value: DISABLED
            help_text: |-
              When DISABLED, this configuration will not generate logs.
    - group:
        mutex: true
        help_text: |-
          Arguments for the  aggregation interval.
        params:
        - arg_name: aggregation-interval
          api_field: vpcFlowLogsConfig.aggregationInterval
          required: false
          help_text: |-
            The aggregation interval for the logs. Default value is INTERVAL_5_SEC.
          choices:
          - arg_value: interval-5-sec
            enum_value: INTERVAL_5_SEC
            help_text: |-
              Aggregate logs in 5s intervals.
          - arg_value: interval-30-sec
            enum_value: INTERVAL_30_SEC
            help_text: |-
              Aggregate logs in 30s intervals.
          - arg_value: interval-1-min
            enum_value: INTERVAL_1_MIN
            help_text: |-
              Aggregate logs in 1m intervals.
          - arg_value: interval-5-min
            enum_value: INTERVAL_5_MIN
            help_text: |-
              Aggregate logs in 5m intervals.
          - arg_value: interval-10-min
            enum_value: INTERVAL_10_MIN
            help_text: |-
              Aggregate logs in 10m intervals.
          - arg_value: interval-15-min
            enum_value: INTERVAL_15_MIN
            help_text: |-
              Aggregate logs in 15m intervals.
    - group:
        mutex: true
        help_text: |-
          Arguments for the  flow sampling.
        params:
        - arg_name: flow-sampling
          api_field: vpcFlowLogsConfig.flowSampling
          required: false
          repeated: false
          type: float
          help_text: |-
            The value of the field must be in (0, 1]. The sampling rate of VPC Flow
            Logs where 1.0 means all collected logs are reported.
            Setting the sampling rate to 0.0 is not allowed. If you want to disable VPC
            Flow Logs, use the state field instead.
            Default value is 1.0.
    - group:
        mutex: true
        help_text: |-
          Arguments for the  metadata.
        params:
        - arg_name: metadata
          api_field: vpcFlowLogsConfig.metadata
          required: false
          help_text: |-
            Configures whether all, none or a subset of metadata fields should be
            added to the reported VPC flow logs.
            Default value is INCLUDE_ALL_METADATA.
          choices:
          - arg_value: include-all-metadata
            enum_value: INCLUDE_ALL_METADATA
            help_text: |-
              Include all metadata fields.
          - arg_value: exclude-all-metadata
            enum_value: EXCLUDE_ALL_METADATA
            help_text: |-
              Exclude all metadata fields.
          - arg_value: custom-metadata
            enum_value: CUSTOM_METADATA
            help_text: |-
              Include only custom fields (specified in metadata_fields).
    - group:
        mutex: true
        help_text: |-
          Arguments for the  filter expr.
        params:
        - arg_name: filter-expr
          api_field: vpcFlowLogsConfig.filterExpr
          required: false
          repeated: false
          help_text: |-
            Export filter used to define which VPC Flow Logs should be logged.
    - group:
        mutex: true
        help_text: |-
          Arguments for the  cross project metadata.
        params:
        - arg_name: cross-project-metadata
          api_field: vpcFlowLogsConfig.crossProjectMetadata
          required: false
          help_text: |-
            Determines whether to include cross project annotations in the logs.
            This field is available only for organization configurations. If not
            specified in org configs will be set to CROSS_PROJECT_METADATA_ENABLED.
          choices:
          - arg_value: cross-project-metadata-enabled
            enum_value: CROSS_PROJECT_METADATA_ENABLED
            help_text: |-
              When CROSS_PROJECT_METADATA_ENABLED, metadata from other projects will be
              included in the logs.
          - arg_value: cross-project-metadata-disabled
            enum_value: CROSS_PROJECT_METADATA_DISABLED
            help_text: |-
              When CROSS_PROJECT_METADATA_DISABLED, metadata from other projects will
              not be included in the logs.
    - group:
        mutex: true
        help_text: |-
          Arguments for the target resource.
        params:
        - arg_name: network
          api_field: vpcFlowLogsConfig.network
          required: false
          repeated: false
          help_text: |-
            Traffic will be logged from VMs, VPN tunnels and Interconnect Attachments
            within the network.
            Format: projects/{project_id}/global/networks/{name}
        - arg_name: subnet
          api_field: vpcFlowLogsConfig.subnet
          required: false
          repeated: false
          help_text: |-
            Traffic will be logged from VMs within the subnetwork.
            Format: projects/{project_id}/regions/{region}/subnetworks/{name}
        - arg_name: interconnect-attachment
          api_field: vpcFlowLogsConfig.interconnectAttachment
          required: false
          repeated: false
          help_text: |-
            Traffic will be logged from the Interconnect Attachment.
            Format:
            projects/{project_id}/regions/{region}/interconnectAttachments/{name}
        - arg_name: vpn-tunnel
          api_field: vpcFlowLogsConfig.vpnTunnel
          required: false
          repeated: false
          help_text: |-
            Traffic will be logged from the VPN Tunnel.
            Format: projects/{project_id}/regions/{region}/vpnTunnels/{name}
    - help_text: |-
        Identifier. Unique name of the configuration. The name can have one of the following
        forms:

        - For project-level configurations:
        `projects/{project_id}/locations/global/vpcFlowLogsConfigs/{vpc_flow_logs_config_id}`

        - For organization-level configurations:
        `organizations/{organization_id}/locations/global/vpcFlowLogsConfigs/{vpc_flow_logs_config_id}`
      is_positional: true
      is_primary_resource: true
      request_id_field: vpcFlowLogsConfigId
      resource_spec: !REF googlecloudsdk.command_lib.network_management.v1_resources:organizations_or_projects_locations_vpc_flow_logs_configs
      required: true
    - arg_name: metadata-fields
      api_field: vpcFlowLogsConfig.metadataFields
      required: false
      repeated: true
      help_text: |-
        Custom metadata fields to include in the reported VPC flow logs.
        Can only be specified if "metadata" was set to CUSTOM_METADATA.
    - arg_name: labels
      api_field: vpcFlowLogsConfig.labels
      required: false
      repeated: true
      help_text: |-
        Resource labels to represent user-provided metadata.
      spec:
      - api_field: key
      - api_field: value
  request:
    api_version: v1
    collection:
    - networkmanagement.organizations.locations.vpcFlowLogsConfigs
    - networkmanagement.projects.locations.vpcFlowLogsConfigs
  async:
    collection:
    - networkmanagement.organizations.locations.operations
    - networkmanagement.projects.locations.global.operations
