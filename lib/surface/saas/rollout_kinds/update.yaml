- release_tracks:
  - ALPHA
  help_text:
    brief: Update a Rollout Type
    description: Update a Rollout Type
    examples: |-
      To update the Rollout Type, run:

      $ {command}
  arguments:
    params:
    - group:
        mutex: true
        help_text: |-
          Arguments for the  error budget.
        params:
        - group:
            api_field: rolloutKind.errorBudget
            arg_name: error-budget
            clearable: true
            required: false
            help_text: |-
              The configuration for error budget. If the number of failed units exceeds
              max(allowed_count, allowed_ratio * total_units), the rollout will be paused.
            params:
            - arg_name: error-budget-allowed-count
              api_field: rolloutKind.errorBudget.allowedCount
              required: false
              repeated: false
              type: int
              help_text: |-
                The maximum number of failed units allowed in a location without pausing
                the rollout.
            - arg_name: error-budget-allowed-percentage
              api_field: rolloutKind.errorBudget.allowedPercentage
              required: false
              repeated: false
              type: int
              help_text: |-
                The maximum percentage of units allowed to fail (0, 100] within a location
                without pausing the rollout.
    - help_text: |-
        Identifier. The resource name (full URI of the resource) following the standard naming
        scheme:

          "projects/{project}/locations/{location}/rolloutKinds/{rollout_kind_id}"
      is_positional: true
      resource_spec: !REF googlecloudsdk.command_lib.saas.resources:rollout_kind
      required: true
    - arg_name: rollout-orchestration-strategy
      api_field: rolloutKind.rolloutOrchestrationStrategy
      required: false
      repeated: false
      help_text: |-
        The strategy to use for executing rollouts.
    - arg_name: maintenance-policy-enforcement
      api_field: rolloutKind.maintenancePolicyEnforcement
      required: false
      help_text: |-
        CLI_DEFAULT_HELP_TEXT.
      choices:
      - arg_value: strict
        enum_value: MAINTENANCE_POLICY_ENFORCEMENT_STRICT
        help_text: |-
          CLI_DEFAULT_HELP_TEXT.
      - arg_value: ignored
        enum_value: MAINTENANCE_POLICY_ENFORCEMENT_IGNORED
        help_text: |-
          CLI_DEFAULT_HELP_TEXT.
      - arg_value: skipped
        enum_value: MAINTENANCE_POLICY_ENFORCEMENT_SKIPPED
        help_text: |-
          CLI_DEFAULT_HELP_TEXT.
    - arg_name: unit-filter
      api_field: rolloutKind.unitFilter
      required: false
      repeated: false
      help_text: |-
        AIP/160 formatted filter string against Unit. The filter will be applied to
        determine the eligible unit population. This filter can only reduce, but
        not expand the scope of the rollout.
    - arg_name: update-unit-kind-strategy
      api_field: rolloutKind.updateUnitKindStrategy
      required: false
      help_text: |-
        The config for updating the unit kind. By default, the unit kind will be
        updated on the rollout start.
      choices:
      - arg_value: on-start
        enum_value: UPDATE_UNIT_KIND_STRATEGY_ON_START
        help_text: |-
          Update the unit kind strategy on the rollout start.
      - arg_value: never
        enum_value: UPDATE_UNIT_KIND_STRATEGY_NEVER
        help_text: |-
          Never update the unit kind.
  request:
    api_version: v1alpha1
    collection:
    - saasservicemgmt.projects.locations.rolloutKinds
  async:
    collection:
    - saasservicemgmt.projects.locations.operations
  update:
    read_modify_update: true
